# ============================================
# AI 小说生成系统 - 环境变量配置模板
# ============================================
#
# 使用说明：
# 1. 复制此文件为 .env：cp .env.example .env
# 2. 填写实际的配置值（特别是 API keys）
# 3. 不要将 .env 提交到 Git（已在 .gitignore 中）
#

# ============================================
# API Keys（必需）
# ============================================

# OpenRouter API Key（必需）
# 用于访问所有 LLM 模型
# 获取方式：https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# ============================================
# LLM 配置
# ============================================

# OpenRouter API 地址
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# 默认模型（推荐 DeepSeek V3.1，性价比高）
# 可选值：
#   - deepseek/deepseek-v3.1-terminus  （推荐，默认）
#   - anthropic/claude-3.5-sonnet      （高质量）
#   - anthropic/claude-3-haiku         （快速）
#   - openai/gpt-4-turbo               （备用）
#   - qwen/qwen-2.5-72b-instruct       （中文优化）
DEFAULT_MODEL=deepseek/deepseek-v3.1-terminus

# LLM 请求配置
LLM_TIMEOUT=120
LLM_MAX_RETRIES=3
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=8000

# ============================================
# 数据库配置
# ============================================

# 主数据库 URL
# 开发环境推荐使用 SQLite（默认）
# 生产环境可使用 PostgreSQL
DATABASE_URL=sqlite:///./data/sqlite/novel.db
# DATABASE_URL=postgresql://user:password@localhost:5432/novel_db

# 数据库连接池配置
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=false

# ============================================
# 服务器配置
# ============================================

# 后端服务器
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=true

# 前端 URL（用于 CORS）
FRONTEND_URL=http://localhost:3000

# CORS 允许的源（逗号分隔）
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ============================================
# 日志配置
# ============================================

# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志格式
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# 日志文件路径（可选，不设置则只输出到控制台）
# LOG_FILE=./logs/app.log

# ============================================
# 游戏配置
# ============================================

# 最大并发游戏会话数
MAX_GAME_SESSIONS=100

# 会话超时时间（秒）
SESSION_TIMEOUT=3600

# 自动保存间隔（回合数）
AUTO_SAVE_INTERVAL=5

# ============================================
# 世界生成配置
# ============================================

# 世界生成使用的模型（不设置则使用 DEFAULT_MODEL）
# WORLD_GENERATION_MODEL=deepseek/deepseek-v3.1-terminus

# 场景细化的 Pass 数量
SCENE_REFINEMENT_PASSES=4

# ============================================
# 小说生成设置
# ============================================

# 默认小说类型
DEFAULT_NOVEL_TYPE=scifi  # scifi 或 xianxia

# 默认生成偏好
DEFAULT_PREFERENCE=hybrid  # playability, narrative, 或 hybrid

# ============================================
# 向量数据库（可选，用于语义检索）
# ============================================

# 向量数据库路径
VECTOR_DB_PATH=./data/chromadb

# ============================================
# 开发模式
# ============================================

# 调试模式（开发时设为 true，生产时设为 false）
DEBUG=false

# 是否启用 API 文档（/docs 和 /redoc）
ENABLE_API_DOCS=true

# ============================================
# 其他配置
# ============================================

# 项目根目录（自动计算，通常不需要设置）
# PROJECT_ROOT=/path/to/mn_xiao_shuo

# 数据目录（自动计算，通常不需要设置）
# DATA_DIR=/path/to/data
