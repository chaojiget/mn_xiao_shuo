# AI è·‘å›¢æ¸¸æˆ - é¡¹ç›®æ¦‚è§ˆ

> æ›´æ–°æ—¶é—´ï¼š2025-11-06
> ç‰ˆæœ¬ï¼šv1.1 (WorldPackç³»ç»Ÿä¸Šçº¿)

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [UIåŠŸèƒ½è¯´æ˜](#uiåŠŸèƒ½è¯´æ˜)
- [åç«¯æ¶æ„](#åç«¯æ¶æ„)
- [æ•°æ®æµ](#æ•°æ®æµ)
- [å­˜æ¡£ç³»ç»Ÿ](#å­˜æ¡£ç³»ç»Ÿ)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº AI é©±åŠ¨çš„å•äººè·‘å›¢æ¸¸æˆç³»ç»Ÿï¼Œä½¿ç”¨ LangChain 1.0 + OpenRouter æ¶æ„ï¼Œæ”¯æŒï¼š
- ğŸ® å®æ—¶æ¸¸æˆå¯¹è¯ä¸æµå¼è¾“å‡º
- ğŸ’¾ å®Œæ•´çš„å­˜æ¡£ç³»ç»Ÿï¼ˆ10ä¸ªæ§½ä½ + è‡ªåŠ¨ä¿å­˜ï¼‰
- ğŸ² 15ä¸ªæ¸¸æˆå·¥å…·ï¼ˆç‰©å“ã€ä»»åŠ¡ã€NPCã€æˆ˜æ–—ç­‰ï¼‰
- ğŸ“Š æ¸¸æˆçŠ¶æ€å¯è§†åŒ–ï¼ˆHPã€èƒŒåŒ…ã€ä»»åŠ¡ã€åœ°å›¾ï¼‰
- ğŸ§  å™äº‹å¼•æ“é©±åŠ¨å‰§æƒ…
- ğŸ—ºï¸ **æ–°å¢**: WorldPack é¢„ç”Ÿæˆä¸–ç•Œç³»ç»Ÿï¼ˆåœ°ç‚¹ã€NPCã€ä»»åŠ¡ã€æ‰è½è¡¨ï¼‰

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **UIåº“**: shadcn/ui (åŸºäº Radix UI)
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand (with persist middleware)
- **ç½‘ç»œ**: Fetch API + ReadableStream (SSE)

### åç«¯
- **æ¡†æ¶**: FastAPI (Python 3.11+)
- **AIæ¡†æ¶**: LangChain 1.0
- **LLMæä¾›å•†**: OpenRouter
- **æ¨¡å‹**: DeepSeek V3, Claude 3.5 Sonnet, GPT-4, Qwen 2.5
- **æ•°æ®åº“**: SQLite (å­˜æ¡£ç³»ç»Ÿ)
- **åŒ…ç®¡ç†**: uv (è¶…å¿«çš„PythonåŒ…ç®¡ç†å™¨)

### æ ¸å¿ƒä¾èµ–
```
åç«¯:
- langchain >= 1.0.0
- langchain-openai
- fastapi
- uvicorn
- sqlite3

å‰ç«¯:
- next@14.2.0
- react@18
- zustand
- @radix-ui/*
- lucide-react
```

---

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ /game    â”‚ â”‚ /world   â”‚ â”‚ /worlds  â”‚ â”‚ /chat    â”‚      â”‚
â”‚  â”‚ (è·‘å›¢)   â”‚ â”‚ (è„šæ‰‹æ¶) â”‚ â”‚ (WorldPack) â”‚ (å¯¹è¯)   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚            â”‚
        â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯ç»„ä»¶å±‚                               â”‚
â”‚  - NarrativeInterface (å™äº‹ç•Œé¢)                              â”‚
â”‚  - GameStatePanel (çŠ¶æ€é¢æ¿)                                â”‚
â”‚  - QuestTracker (ä»»åŠ¡è¿½è¸ª)                                  â”‚
â”‚  - WorldsList (ä¸–ç•Œåˆ—è¡¨)         â­ æ–°å¢                     â”‚
â”‚  - WorldOverview (ä¸–ç•Œæ¦‚è§ˆ)       â­ æ–°å¢                     â”‚
â”‚  - GenerateWorldDialog (ç”Ÿæˆå¯¹è¯æ¡†) â­ æ–°å¢                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP/SSE
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI åç«¯                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ API è·¯ç”±å±‚ (web/backend/api/)                      â”‚     â”‚
â”‚  â”‚  - game_api.py (æ¸¸æˆå›åˆã€å­˜æ¡£)                    â”‚     â”‚
â”‚  â”‚  - dm_api.py (WebSocket)                           â”‚     â”‚
â”‚  â”‚  - world_api.py (ä¸–ç•Œè„šæ‰‹æ¶)                       â”‚     â”‚
â”‚  â”‚  - worlds_api.py (WorldPackç®¡ç†) â­ æ–°å¢          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚               â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ä¸šåŠ¡é€»è¾‘å±‚ (web/backend/services/)                 â”‚     â”‚
â”‚  â”‚  - save_service.py (å­˜æ¡£æœåŠ¡)                      â”‚     â”‚
â”‚  â”‚  - agent_generation.py (AIç”Ÿæˆ)                    â”‚     â”‚
â”‚  â”‚  - world_generation_job.py (ä¸–ç•Œç”Ÿæˆ) â­ æ–°å¢     â”‚     â”‚
â”‚  â”‚  - world_validator.py (ä¸–ç•Œæ ¡éªŒ) â­ æ–°å¢          â”‚     â”‚
â”‚  â”‚  - world_indexer.py (å‘é‡ç´¢å¼•) â­ æ–°å¢            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚               â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ æ¸¸æˆå¼•æ“å±‚ (web/backend/game/)                     â”‚     â”‚
â”‚  â”‚  - game_engine.py (æ ¸å¿ƒå¼•æ“)                       â”‚     â”‚
â”‚  â”‚  - game_tools.py (15ä¸ªå·¥å…·)                        â”‚     â”‚
â”‚  â”‚  - quests.py (ä»»åŠ¡ç³»ç»Ÿ)                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚               â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ AI Agent å±‚ (web/backend/agents/)                  â”‚     â”‚
â”‚  â”‚  - dm_agent_langchain.py (DM Agent)                â”‚     â”‚
â”‚  â”‚  - game_tools_langchain.py (LangChainå·¥å…·)        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ® & AI å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ SQLite DB    â”‚  â”‚ LangChain 1.0â”‚  â”‚  OpenRouter  â”‚      â”‚
â”‚  â”‚ (å­˜æ¡£/çŠ¶æ€)  â”‚  â”‚  ChatOpenAI  â”‚  â”‚  (å¤šæ¨¡å‹)    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UIåŠŸèƒ½è¯´æ˜

### 1. ä¸»æ¸¸æˆé¡µé¢ (`/game/play`)

**åŠŸèƒ½å®Œæ•´ç‰ˆï¼Œæ¨èä½¿ç”¨**

#### é¡¶éƒ¨å·¥å…·æ 
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜° å™äº‹æ¨¡å¼              ç¬¬ 5 å›åˆ â— å·²è‡ªåŠ¨ä¿å­˜             â”‚
â”‚                                                            â”‚
â”‚   [ä¿å­˜åˆ°æ§½ä½] [è¯»å–æ§½ä½] [é‡æ–°å¼€å§‹] [é€€å‡º]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **å›åˆè®¡æ•°å™¨**: æ˜¾ç¤ºå½“å‰æ¸¸æˆè¿›åº¦
- **è‡ªåŠ¨ä¿å­˜æŒ‡ç¤º**: ç»¿è‰²åœ†ç‚¹è¡¨ç¤ºå·²ä¿å­˜
- **ä¿å­˜åˆ°æ§½ä½**: æ‰‹åŠ¨ä¿å­˜åˆ°1-10æ§½ä½ï¼Œå¯å‘½å
- **è¯»å–æ§½ä½**: ä»æŒ‡å®šæ§½ä½åŠ è½½å­˜æ¡£
- **é‡æ–°å¼€å§‹**: æ¸…é™¤è¿›åº¦ï¼Œé‡æ–°åˆå§‹åŒ–æ¸¸æˆ
- **é€€å‡º**: è¿”å›æ¸¸æˆé€‰æ‹©é¡µ

#### å·¦ä¾§è¾¹æ  - æ¸¸æˆçŠ¶æ€é¢æ¿
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â¤ï¸ è§’è‰²çŠ¶æ€         â”‚
â”‚ HP: 95/100 â–ˆâ–ˆâ–ˆâ–ˆâ–‘    â”‚
â”‚ ä½“åŠ›: 80/100 â–ˆâ–ˆâ–ˆâ–‘   â”‚
â”‚ ä½ç½®: è¿·é›¾æ£®æ—       â”‚
â”‚ é‡‘å¸: 50            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’ èƒŒåŒ…             â”‚
â”‚ - é‡‘å¸ x50          â”‚
â”‚ - ç«æŠŠ x3           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ æ´»è·ƒä»»åŠ¡         â”‚
â”‚ - æ¢ç´¢æ£®æ—          â”‚
â”‚   æ‰¾åˆ°ç¥ç§˜æ´ç©´      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸­é—´ä¸»åŒºåŸŸ - å™äº‹å¯¹è¯ç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [P] ç©å®¶ 12:30                             â”‚
â”‚     æˆ‘å‘åŒ—èµ°å»                              â”‚
â”‚                                            â”‚
â”‚ [æ—ç™½] å™äº‹å¼•æ“ âš¡ 12:30 (æµå¼è¾“å‡ºä¸­...)   â”‚
â”‚     ä½ æ²¿ç€çŸ³æ¿è·¯å‘åŒ—èµ°å»ã€‚å‰æ–¹å‡ºç°äº†        â”‚
â”‚     ä¸€åº§å¤è€çš„åŸé—¨...                       â”‚
â”‚                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ è¾“å…¥ä½ çš„è¡ŒåŠ¨...                     â”‚    â”‚
â”‚ â”‚                                    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          [æ‰§è¡Œ]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹æ€§:**
- âœ… **æµå¼è¾“å‡º**: æ—ç™½å›å¤é€å­—æ˜¾ç¤ºï¼ˆæ‰“å­—æœºæ•ˆæœï¼‰
- âœ… **å†å²æ¢å¤**: è¯»å–å­˜æ¡£åè‡ªåŠ¨æ˜¾ç¤ºå†å²å¯¹è¯
- âœ… **å®æ—¶æŒ‡ç¤º**: æ˜¾ç¤º"å™äº‹å¼•æ“æ­£åœ¨æ€è€ƒ..."åŠ è½½çŠ¶æ€
- âœ… **è‡ªåŠ¨æ»šåŠ¨**: æ–°æ¶ˆæ¯è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨

#### å³ä¾§è¾¹æ  - ä»»åŠ¡ä¸NPC

**ä¸ŠåŠéƒ¨åˆ† - ä»»åŠ¡è¿½è¸ªå™¨**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ æ´»è·ƒä»»åŠ¡         â”‚
â”‚                     â”‚
â”‚ ã€ä¸»çº¿ã€‘æ¢ç´¢æ£®æ—    â”‚
â”‚ â””â”€ æ‰¾åˆ°ç¥ç§˜æ´ç©´    â”‚
â”‚    è¿›åº¦: 0/1       â”‚
â”‚                     â”‚
â”‚ ã€æ”¯çº¿ã€‘æ”¶é›†ææ–™    â”‚
â”‚ â””â”€ é‡‡é›†è‰è¯        â”‚
â”‚    è¿›åº¦: 3/5 â–ˆâ–ˆâ–ˆâ–‘  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸‹åŠéƒ¨åˆ† - NPCå¯¹è¯**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ NPC              â”‚
â”‚                     â”‚
â”‚ ã€ç¥ç§˜å•†äººã€‘        â”‚
â”‚ å…³ç³»: ä¸­ç«‹ (50)     â”‚
â”‚ ä½ç½®: å¹¿åœº          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ç®€åŒ–ç‰ˆæ¸¸æˆé¡µé¢ (`/game`)

**ç®€åŒ–ç‰ˆæœ¬ï¼Œç”¨äºæµ‹è¯•æ ¸å¿ƒåè®®**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI è·‘å›¢æ¸¸æˆ - æ ¸å¿ƒåè®®æµ‹è¯•                                  â”‚
â”‚                                 ç¬¬ 3 å›åˆ â— å·²è‡ªåŠ¨ä¿å­˜      â”‚
â”‚   [å¼€å§‹æ–°æ¸¸æˆ] [ä¿å­˜åˆ°æ§½ä½] [è¯»å–æ§½ä½] [å¯¼å‡º] [é‡æ–°å¼€å§‹]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å†’é™©çºªäº‹ ğŸ“œ            â”‚  è§’è‰²çŠ¶æ€ â¤ï¸                   â”‚
â”‚                         â”‚  HP: 100/100                    â”‚
â”‚ [ä½ ] æˆ‘å‘åŒ—èµ°           â”‚  ä½“åŠ›: 100/100                  â”‚
â”‚                         â”‚  ä½ç½®: start                    â”‚
â”‚ ä½ æ²¿ç€çŸ³æ¿è·¯å‘åŒ—èµ°å»... â”‚  é‡‘å¸: 50                       â”‚
â”‚                         â”‚                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  èƒŒåŒ… ğŸ’                       â”‚
â”‚ â”‚ è¾“å…¥è¡ŒåŠ¨...        â”‚ â”‚  - é‡‘å¸ x50                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                 â”‚
â”‚        [æ‰§è¡Œ]          â”‚  åœ°å›¾ ğŸ—ºï¸                       â”‚
â”‚ [æŸ¥çœ‹èƒŒåŒ…] [ç¯é¡¾å››å‘¨]  â”‚  [ç®€åŒ–åœ°å›¾æ˜¾ç¤º]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹:**
- å•é¡µé¢å¸ƒå±€
- æ‰€æœ‰åŠŸèƒ½é›†ä¸­æ˜¾ç¤º
- é€‚åˆå¿«é€Ÿæµ‹è¯•

---

## åç«¯æ¶æ„

### 1. æ ¸å¿ƒç»„ä»¶

#### GameEngine (æ¸¸æˆå¼•æ“)
**ä½ç½®**: `web/backend/game/game_engine.py`

**èŒè´£:**
- å¤„ç†æ¸¸æˆå›åˆé€»è¾‘
- ç®¡ç†æ¸¸æˆçŠ¶æ€
- è°ƒç”¨ LLM ç”Ÿæˆå™äº‹
- æ‰§è¡Œå·¥å…·è°ƒç”¨

**å…³é”®æ–¹æ³•:**
```python
class GameEngine:
    def __init__(self, llm_backend, db_path=None):
        """åˆå§‹åŒ–å¼•æ“ï¼Œæ³¨å…¥LLMåç«¯å’Œæ•°æ®åº“"""

    def init_game(self, story_id=None) -> GameState:
        """åˆå§‹åŒ–æ–°æ¸¸æˆï¼Œè¿”å›åˆå§‹çŠ¶æ€"""

    async def process_turn(self, request: GameTurnRequest) -> GameTurnResponse:
        """å¤„ç†æ¸¸æˆå›åˆï¼ˆéæµå¼ï¼‰"""

    async def process_turn_stream(self, request: GameTurnRequest) -> AsyncIterator:
        """å¤„ç†æ¸¸æˆå›åˆï¼ˆæµå¼ï¼‰- é€å¥å‘é€"""
```

**æµç¨‹å›¾:**
```
process_turn_stream():
  1. è°ƒç”¨ process_turn() å®Œæ•´å¤„ç†
  2. å°†å™äº‹æŒ‰"ã€‚"åˆ†å‰²æˆå¥å­
  3. é€å¥ yield {"type": "text", "content": "..."}
  4. yield actions
  5. yield {"type": "done", "metadata": {...}}
```

#### å™äº‹å¼•æ“ Agent
**ä½ç½®**: `web/backend/agents/dm_agent_langchain.py`

**èŒè´£:**
- ä½œä¸ºæ¸¸æˆä¸»æŒäººï¼ˆDMï¼‰
- è°ƒç”¨ LangChain Agent
- æ‰§è¡Œå·¥å…·è°ƒç”¨
- ç”Ÿæˆç²¾å½©å™äº‹

**æ¨¡å‹é…ç½®:**
```python
model_map = {
    "deepseek": "deepseek/deepseek-v3.1-terminus",  # é»˜è®¤
    "claude-sonnet": "anthropic/claude-3.5-sonnet",
    "claude-haiku": "anthropic/claude-3-haiku",
    "gpt-4": "openai/gpt-4-turbo",
    "qwen": "qwen/qwen-2.5-72b-instruct"
}
```

**æ—¥å¿—ç³»ç»Ÿ:**
```
ğŸ® DM Agent åˆå§‹åŒ–å®Œæˆ
ğŸ“¦ ä½¿ç”¨æ¨¡å‹: deepseek/deepseek-v3.1-terminus
ğŸ”§ åŠ è½½å·¥å…·æ•°é‡: 15
================================================================================
ğŸ² å¼€å§‹å¤„ç†æ¸¸æˆå›åˆ
ğŸ“ ç©å®¶è¡ŒåŠ¨: å‘åŒ—èµ°
ğŸ—ºï¸  å½“å‰ä½ç½®: start
ğŸ”§ å·¥å…·è°ƒç”¨å¼€å§‹: set_location
   è¾“å…¥å‚æ•°: {"location": "north_gate"}
âœ… å·¥å…·è°ƒç”¨å®Œæˆ: set_location
ğŸ¯ å›åˆå®Œæˆï¼Œå½“å‰å›åˆæ•°: 2
================================================================================
```

#### æ¸¸æˆå·¥å…· (15ä¸ª)
**ä½ç½®**: `web/backend/agents/game_tools_langchain.py`

**å·¥å…·åˆ—è¡¨:**

| ç±»åˆ« | å·¥å…·å | åŠŸèƒ½ |
|------|--------|------|
| **æ ¸å¿ƒ** | get_player_state | è·å–ç©å®¶çŠ¶æ€ |
| | add_item | ç»™äºˆç‰©å“ |
| | remove_item | ç§»é™¤ç‰©å“ |
| | update_hp | ä¿®æ”¹ç”Ÿå‘½å€¼ |
| | roll_check | è¿›è¡ŒæŠ€èƒ½æ£€å®š |
| | set_location | ç§»åŠ¨ä½ç½® |
| | save_game | ä¿å­˜æ¸¸æˆ |
| **ä»»åŠ¡** | create_quest | åˆ›å»ºä»»åŠ¡ |
| | get_quests | è·å–ä»»åŠ¡åˆ—è¡¨ |
| | activate_quest | æ¿€æ´»ä»»åŠ¡ |
| | update_quest_objective | æ›´æ–°ä»»åŠ¡ç›®æ ‡ |
| | complete_quest | å®Œæˆä»»åŠ¡ |
| **NPC** | create_npc | åˆ›å»ºNPC |
| | get_npcs | è·å–NPCåˆ—è¡¨ |
| | update_npc_relationship | æ›´æ–°NPCå…³ç³» |
| | add_npc_memory | æ·»åŠ NPCè®°å¿† |

**å·¥å…·å®ç°æ–¹å¼:**
```python
from langchain.tools import tool

@tool
def add_item(item_name: str, quantity: int = 1, description: str = "") -> dict:
    """ç»™äºˆç©å®¶ç‰©å“

    Args:
        item_name: ç‰©å“åç§°
        quantity: æ•°é‡ï¼ˆé»˜è®¤1ï¼‰
        description: ç‰©å“æè¿°
    """
    # å®ç°é€»è¾‘...
    return {"success": True, "item": item_name, "quantity": quantity}
```

### 2. å­˜æ¡£ç³»ç»Ÿ

#### SaveService
**ä½ç½®**: `web/backend/services/save_service.py`

**åŠŸèƒ½:**
- ä¿å­˜æ¸¸æˆåˆ°æ§½ä½ (1-10)
- è‡ªåŠ¨ä¿å­˜ (æ§½ä½0)
- åŠ è½½å­˜æ¡£
- åˆ—å‡ºæ‰€æœ‰å­˜æ¡£
- åˆ é™¤å­˜æ¡£

**æ•°æ®åº“è¡¨:**
```sql
CREATE TABLE game_saves (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id TEXT NOT NULL,
    slot_id INTEGER NOT NULL,  -- 0=è‡ªåŠ¨ä¿å­˜, 1-10=æ‰‹åŠ¨æ§½ä½
    save_name TEXT NOT NULL,
    game_state TEXT NOT NULL,  -- JSONåºåˆ—åŒ–çš„GameState
    metadata TEXT,             -- å…ƒæ•°æ®ï¼ˆå›åˆæ•°ã€ä½ç½®ç­‰ï¼‰
    screenshot_url TEXT,       -- æˆªå›¾URLï¼ˆå¯é€‰ï¼‰
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(user_id, slot_id)
);
```

**APIç«¯ç‚¹:**
```
POST   /api/game/save                    # ä¿å­˜åˆ°æ§½ä½
GET    /api/game/saves/{user_id}         # è·å–å­˜æ¡£åˆ—è¡¨
GET    /api/game/save/{save_id}          # åŠ è½½å­˜æ¡£
DELETE /api/game/save/{save_id}          # åˆ é™¤å­˜æ¡£
GET    /api/game/auto-save/{user_id}     # è·å–æœ€æ–°è‡ªåŠ¨ä¿å­˜
```

### 3. API è·¯ç”±

#### æ¸¸æˆAPI (`game_api.py`)

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/game/init` | POST | åˆå§‹åŒ–æ–°æ¸¸æˆ |
| `/api/game/turn` | POST | å¤„ç†å›åˆï¼ˆéæµå¼ï¼‰ |
| `/api/game/turn/stream` | POST | å¤„ç†å›åˆï¼ˆæµå¼SSEï¼‰ |
| `/api/game/quests` | GET/POST | ä»»åŠ¡ç®¡ç† |
| `/api/game/npcs` | GET/POST | NPCç®¡ç† |
| `/api/game/save` | POST | ä¿å­˜æ¸¸æˆ |
| `/api/game/saves/{user_id}` | GET | è·å–å­˜æ¡£åˆ—è¡¨ |
| `/api/game/save/{save_id}` | GET | åŠ è½½å­˜æ¡£ |
| `/api/game/auto-save/{user_id}` | GET | è·å–è‡ªåŠ¨ä¿å­˜ |

**è‡ªåŠ¨ä¿å­˜æ—¶æœº:**
```python
@router.post("/turn")
async def process_turn(request: GameTurnRequestModel):
    # ... å¤„ç†å›åˆ ...

    # æ¯å›åˆè‡ªåŠ¨ä¿å­˜
    if save_service:
        save_service.save_game(
            user_id="default_user",
            slot_id=0,  # è‡ªåŠ¨ä¿å­˜æ§½ä½
            save_name="è‡ªåŠ¨ä¿å­˜",
            game_state=state.model_dump(),
            auto_save=True
        )
```

---

## æ•°æ®æµ

### 1. æ¸¸æˆå›åˆå¤„ç†æµç¨‹ï¼ˆæµå¼ï¼‰

```
ç”¨æˆ·è¾“å…¥ "æˆ‘å‘åŒ—èµ°"
    â”‚
    â–¼
å‰ç«¯ DmInterface.handleSendMessage()
    â”‚
    â”œâ”€ æ·»åŠ ç©å®¶æ¶ˆæ¯åˆ°ç•Œé¢
    â”œâ”€ setIsTyping(true)
    â”œâ”€ setStreamingText('')
    â”‚
    â–¼
POST /api/game/turn/stream
    â”‚
    â–¼
åç«¯ game_api.process_turn_stream()
    â”‚
    â”œâ”€ è½¬æ¢ GameState
    â”‚
    â–¼
GameEngine.process_turn_stream()
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è°ƒç”¨ process_turn() å®Œæ•´å¤„ç†     â”‚
â”‚    â”œâ”€ æ„å»º System Prompt            â”‚
â”‚    â”œâ”€ æ„å»º Context Prompt           â”‚
â”‚    â”œâ”€ è°ƒç”¨ LLM (generate_structured)â”‚
â”‚    â”œâ”€ è§£æå·¥å…·è°ƒç”¨                  â”‚
â”‚    â””â”€ åº”ç”¨å·¥å…·è°ƒç”¨åˆ°çŠ¶æ€            â”‚
â”‚                                     â”‚
â”‚ 2. å°†å™äº‹æŒ‰"ã€‚"åˆ†å‰²                â”‚
â”‚    ["ä½ å‘åŒ—èµ°å»ã€‚", "å‰æ–¹æœ‰åŸé—¨ã€‚"]  â”‚
â”‚                                     â”‚
â”‚ 3. é€å¥ yield                       â”‚
â”‚    yield {"type": "text",           â”‚
â”‚           "content": "ä½ å‘åŒ—èµ°å»ã€‚"} â”‚
â”‚                                     â”‚
â”‚ 4. yield actions                    â”‚
â”‚ 5. yield {"type": "done"}           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
å‰ç«¯ ReadableStream æ¥æ”¶
    â”‚
    â”œâ”€ è§£æ SSE æ ¼å¼ "data: {...}\n\n"
    â”œâ”€ ç´¯ç§¯ fullNarration
    â”œâ”€ setStreamingText(fullNarration)  â† å®æ—¶æ›´æ–°UI
    â”‚
    â–¼
æµå¼å®Œæˆ
    â”‚
    â”œâ”€ æ·»åŠ å®Œæ•´æ¶ˆæ¯åˆ°å†å²
    â”œâ”€ setStreamingText('')
    â”œâ”€ setIsTyping(false)
    â”‚
    â–¼
è‡ªåŠ¨ä¿å­˜
    â”‚
    â””â”€ save_service.save_game(slot_id=0)
```

### 2. å­˜æ¡£åŠ è½½æµç¨‹

```
ç”¨æˆ·ç‚¹å‡» "è¯»å–æ§½ä½" â†’ è¾“å…¥ "1"
    â”‚
    â–¼
å‰ç«¯ handleLoadFromSlot(1)
    â”‚
    â–¼
GET /api/game/saves/default_user
    â”‚ è¿”å›: [{save_id: 123, slot_id: 1, save_name: "å­˜æ¡£1"}, ...]
    â”‚
    â–¼
æ‰¾åˆ° slot_id=1 çš„å­˜æ¡£
    â”‚
    â–¼
GET /api/game/save/123
    â”‚ è¿”å›: {success: true, game_state: {...}, metadata: {...}}
    â”‚
    â–¼
å‰ç«¯æ¢å¤çŠ¶æ€
    â”‚
    â”œâ”€ setGameState(game_state)
    â”œâ”€ setSessionId(session_id)
    â”‚
    â–¼
DmInterface.useEffect æ£€æµ‹åˆ° gameState å˜åŒ–
    â”‚
    â”œâ”€ æ£€æŸ¥ gameState.log å­˜åœ¨
    â”œâ”€ å°† log è½¬æ¢ä¸º DmMessage[]
    â””â”€ setMessages(historicalMessages)  â† æ¢å¤å†å²å¯¹è¯
    â”‚
    â–¼
UI æ˜¾ç¤º
    â”‚
    â”œâ”€ å¯¹è¯å†å²æ˜¾ç¤ºåœ¨ç•Œé¢
    â”œâ”€ æ¸¸æˆçŠ¶æ€æ›´æ–°ï¼ˆHPã€èƒŒåŒ…ç­‰ï¼‰
    â””â”€ Toast æç¤º "âœ… è¯»å–æˆåŠŸ"
```

---

## å­˜æ¡£ç³»ç»Ÿ

### å­˜æ¡£æ§½ä½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ§½ä½ 0: è‡ªåŠ¨ä¿å­˜ (æ¯å›åˆè‡ªåŠ¨)        â”‚
â”‚   â””â”€ ä¸å¯æ‰‹åŠ¨è¦†ç›–                   â”‚
â”‚                                     â”‚
â”‚ æ§½ä½ 1-10: æ‰‹åŠ¨å­˜æ¡£                 â”‚
â”‚   â”œâ”€ å¯è‡ªå®šä¹‰åç§°                   â”‚
â”‚   â”œâ”€ æ˜¾ç¤ºæ—¶é—´æˆ³                     â”‚
â”‚   â””â”€ å¯åˆ é™¤                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å­˜æ¡£å†…å®¹

```json
{
  "save_id": 123,
  "slot_id": 1,
  "save_name": "æ£®æ—æ¢é™©-ç¬¬5å›åˆ",
  "game_state": {
    "world": {...},
    "player": {...},
    "npcs": [...],
    "quests": [...],
    "log": [...]  // å†å²è®°å½•
  },
  "metadata": {
    "turn_number": 5,
    "location": "è¿·é›¾æ£®æ—",
    "hp": 95,
    "max_hp": 100
  },
  "created_at": "2025-11-05 12:00:00",
  "updated_at": "2025-11-05 12:30:00"
}
```

### é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ¢å¤

**æµç¨‹:**
1. é¡µé¢åŠ è½½ â†’ è°ƒç”¨ `getLatestAutoSave()`
2. å¦‚æœæœ‰è‡ªåŠ¨ä¿å­˜ â†’ æ¢å¤çŠ¶æ€
3. å¦‚æœæ²¡æœ‰ â†’ åˆå§‹åŒ–æ–°æ¸¸æˆ

**ä»£ç :**
```typescript
useEffect(() => {
  const loadOrInitGame = async () => {
    const autoSave = await apiClient.getLatestAutoSave();

    if (autoSave.success && autoSave.game_state) {
      setGameState(autoSave.game_state);
      toast({ title: "âœ… è¿›åº¦å·²æ¢å¤" });
    } else {
      await initGame();
    }
  };

  loadOrInitGame();
}, []);
```

---

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

```bash
# 1. å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ¨èï¼‰
./scripts/start/start_all_with_agent.sh

# 2. æˆ–æ‰‹åŠ¨å¯åŠ¨
# åç«¯
cd web/backend
uv run uvicorn main:app --reload --port 8000

# å‰ç«¯
cd web/frontend
npm run dev
```

### è®¿é—®åœ°å€

- ä¸»æ¸¸æˆé¡µé¢: http://localhost:3000/game/play
- ç®€åŒ–æµ‹è¯•é¡µé¢: http://localhost:3000/game
- åç«¯APIæ–‡æ¡£: http://localhost:8000/docs

### åŸºæœ¬æ“ä½œ

1. **å¼€å§‹æ¸¸æˆ**
   - è®¿é—® `/game/play`
   - ç­‰å¾…è‡ªåŠ¨æ¢å¤æˆ–åˆå§‹åŒ–
   - åœ¨è¾“å…¥æ¡†è¾“å…¥è¡ŒåŠ¨

2. **ä¿å­˜è¿›åº¦**
   - æ¯å›åˆè‡ªåŠ¨ä¿å­˜åˆ°æ§½ä½0
   - ç‚¹å‡»"ä¿å­˜åˆ°æ§½ä½"æ‰‹åŠ¨ä¿å­˜
   - è¾“å…¥æ§½ä½å·(1-10)å’Œåç§°

3. **ç»§ç»­æ¸¸æˆ**
   - åˆ·æ–°é¡µé¢è‡ªåŠ¨æ¢å¤æœ€æ–°è¿›åº¦
   - æˆ–ç‚¹å‡»"è¯»å–æ§½ä½"é€‰æ‹©ç‰¹å®šå­˜æ¡£

4. **è§‚å¯Ÿæµå¼è¾“å‡º**
   - DMå›å¤ä¼šé€å­—æ˜¾ç¤º
   - çœ‹åˆ°æ—‹è½¬å›¾æ ‡è¡¨ç¤ºæ­£åœ¨ç”Ÿæˆ
   - æ–‡æœ¬é€å¥å‡ºç°

---

## å¼€å‘æŒ‡å—

### ç¯å¢ƒé…ç½®

**å¿…éœ€ç¯å¢ƒå˜é‡ (`.env`):**
```bash
OPENROUTER_API_KEY=your_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
DEFAULT_MODEL=deepseek/deepseek-v3.1-terminus
DATABASE_URL=sqlite:///./data/sqlite/novel.db
```

**å‰ç«¯ç¯å¢ƒå˜é‡ (`.env.local`):**
```bash
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### æ·»åŠ æ–°å·¥å…·

1. **å®šä¹‰å·¥å…· (`game_tools_langchain.py`):**
```python
@tool
def my_new_tool(param1: str, param2: int = 0) -> dict:
    """å·¥å…·æè¿°

    Args:
        param1: å‚æ•°1æè¿°
        param2: å‚æ•°2æè¿°
    """
    # å®ç°é€»è¾‘
    return {"success": True, "result": "..."}

# æ·»åŠ åˆ°å·¥å…·åˆ—è¡¨
ALL_GAME_TOOLS = [
    # ... ç°æœ‰å·¥å…·
    my_new_tool,
]
```

2. **åœ¨ System Prompt ä¸­è¯´æ˜å·¥å…·ç”¨é€”**

3. **æµ‹è¯•å·¥å…·è°ƒç”¨**

### è°ƒè¯•æŠ€å·§

**åç«¯æ—¥å¿—:**
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/backend.log

# æˆ–ç›´æ¥åœ¨ç»ˆç«¯çœ‹
# uvicorn ä¼šè¾“å‡ºæ—¥å¿—
```

**å‰ç«¯è°ƒè¯•:**
```javascript
// æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹
console.log('[DmInterface] ...')

// æŸ¥çœ‹çŠ¶æ€
localStorage.getItem('game-storage')
```

**æŸ¥çœ‹æ•°æ®åº“:**
```bash
sqlite3 data/sqlite/novel.db
.tables
.schema game_saves
SELECT * FROM game_saves;
```

### æ€§èƒ½ä¼˜åŒ–

**å‰ç«¯:**
- ä½¿ç”¨ `React.memo` åŒ…è£…é‡å¤æ¸²æŸ“çš„ç»„ä»¶
- é¿å…åœ¨ render ä¸­åˆ›å»ºæ–°å¯¹è±¡/å‡½æ•°
- ä½¿ç”¨ `useCallback` ç¼“å­˜å›è°ƒ

**åç«¯:**
- ä½¿ç”¨å¼‚æ­¥ (`async/await`)
- é¿å…é˜»å¡æ“ä½œ
- è€ƒè™‘æ·»åŠ ç¼“å­˜å±‚

---

## å¸¸è§é—®é¢˜

### Q: æµå¼è¾“å‡ºä¸æ˜¾ç¤ºï¼Ÿ
**A:** æ£€æŸ¥ï¼š
1. åç«¯æ˜¯å¦è¿”å› SSE æ ¼å¼ (`data: {...}\n\n`)
2. å‰ç«¯æ˜¯å¦æ­£ç¡®è§£æ ReadableStream
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q: å­˜æ¡£æ— æ³•æ¢å¤ï¼Ÿ
**A:** æ£€æŸ¥ï¼š
1. æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. `game_saves` è¡¨æ˜¯å¦æœ‰æ•°æ®
3. å‰ç«¯ API è°ƒç”¨æ˜¯å¦è¿”å› 200

### Q: WebSocket è¿æ¥å¤±è´¥ï¼Ÿ
**A:** æ£€æŸ¥ï¼š
1. åç«¯ç«¯å£æ˜¯å¦æ­£ç¡® (8000)
2. `.env.local` ä¸­ `NEXT_PUBLIC_API_URL` æ˜¯å¦æ­£ç¡®
3. åç«¯æ˜¯å¦æœ‰ WebSocket è·¯ç”±

### Q: å·¥å…·è°ƒç”¨ä¸æ‰§è¡Œï¼Ÿ
**A:** æ£€æŸ¥ï¼š
1. System Prompt æ˜¯å¦æ˜ç¡®è¯´æ˜å·¥å…·ç”¨é€”
2. å·¥å…·å‚æ•°æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹åç«¯æ—¥å¿—çš„å·¥å…·è°ƒç”¨è®°å½•

---

## è´¡çŒ®æŒ‡å—

### æäº¤ä»£ç 

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

**Python:**
- ä½¿ç”¨ Black æ ¼å¼åŒ–
- éµå¾ª PEP 8
- æ·»åŠ ç±»å‹æ³¨è§£

**TypeScript:**
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–
- éµå¾ª ESLint è§„åˆ™
- ä¼˜å…ˆä½¿ç”¨å‡½æ•°ç»„ä»¶

---

## è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºå®éªŒæ€§é¡¹ç›®ï¼Œä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

## WorldPack é¢„ç”Ÿæˆä¸–ç•Œç³»ç»Ÿ â­ æ–°å¢

### æ¦‚è¿°

WorldPack æ˜¯å®Œæ•´çš„é¢„ç”Ÿæˆä¸–ç•Œç³»ç»Ÿï¼Œä¸åŠ¨æ€åœºæ™¯ç»†åŒ–çš„"ä¸–ç•Œè„šæ‰‹æ¶"ç³»ç»Ÿ**å¹¶è¡Œå­˜åœ¨**ï¼Œä¸ºæ¸¸æˆæä¾›ä¸¤ç§ä¸åŒçš„ä¸–ç•Œç®¡ç†æ–¹æ¡ˆã€‚

**ä¸¤ä¸ªç³»ç»Ÿå¯¹æ¯”:**

| ç‰¹æ€§ | ä¸–ç•Œè„šæ‰‹æ¶ (`/world`) | WorldPack (`/worlds`) |
|------|---------------------|---------------------|
| **å®šä½** | åŠ¨æ€åœºæ™¯ç»†åŒ– | é¢„ç”Ÿæˆå®Œæ•´ä¸–ç•Œ |
| **ç”Ÿæˆæ–¹å¼** | 4-Pass æ¸è¿›å¼ | 8-Phase ä¸€æ¬¡æ€§ç”Ÿæˆ |
| **å†…å®¹** | åŒºåŸŸã€æ´¾ç³»ã€å¯ä¾›æ€§ | åœ°ç‚¹ã€NPCã€ä»»åŠ¡ã€æ‰è½è¡¨ |
| **ä½¿ç”¨åœºæ™¯** | å³æ—¶æ¢ç´¢ã€å¼€æ”¾ä¸–ç•Œ | ç»“æ„åŒ–å‰§æœ¬ã€é¢„è®¾å†’é™© |
| **å­˜å‚¨** | åŠ¨æ€ç”Ÿæˆ | å®Œæ•´å­˜å‚¨ï¼ˆgzipå‹ç¼©ï¼‰ |

### è®¿é—®åœ°å€

- **ä¸–ç•Œåˆ—è¡¨**: http://localhost:3000/worlds
- **ä¸–ç•Œè¯¦æƒ…**: http://localhost:3000/worlds/{world_id}

### æ ¸å¿ƒåŠŸèƒ½

#### 1. ä¸–ç•Œç”Ÿæˆ (8ä¸ªé˜¶æ®µ)

**ç”Ÿæˆæµç¨‹:**
```
QUEUED â†’ OUTLINE â†’ LOCATIONS â†’ NPCS â†’ QUESTS â†’
LOOT_TABLES â†’ ENCOUNTER_TABLES â†’ INDEXING â†’ READY
```

**ç”Ÿæˆå¯¹è¯æ¡†å‚æ•°:**
- **æ ‡é¢˜**: ä¸–ç•Œåç§°
- **åŸºè°ƒ**: epic/dark/cozy/mystery/whimsical
- **éš¾åº¦**: story/normal/hard
- **åœ°ç‚¹æ•°**: 5-50ä¸ª
- **NPCæ•°**: 3-30ä¸ª
- **ä»»åŠ¡æ•°**: 3-20ä¸ª

**å®æ—¶è¿›åº¦ç›‘æ§:**
```typescript
// å‰ç«¯è½®è¯¢çŠ¶æ€
GET /api/worlds/{world_id}/status

// è¿”å›
{
  "phase": "NPCS",
  "progress": 0.375,  // 37.5%
  "message": "æ­£åœ¨ç”ŸæˆNPC...",
  "error": null
}
```

#### 2. ä¸–ç•Œè¯¦æƒ…é¡µé¢ (5ä¸ªTab)

**æ¦‚è§ˆ Tab:**
- ç»Ÿè®¡å¡ç‰‡ï¼ˆåœ°ç‚¹æ•°ã€NPCæ•°ã€ä»»åŠ¡æ•°ã€æ‰è½è¡¨ã€é­é‡è¡¨ï¼‰
- ä¸–ç•Œä¿¡æ¯ï¼ˆåŸºè°ƒã€éš¾åº¦ã€ç§å­ã€ç”Ÿæ€ç±»å‹ï¼‰
- ä»»åŠ¡åˆ†å¸ƒï¼ˆä¸»çº¿/æ”¯çº¿ç»Ÿè®¡ï¼‰
- Loreé¢„è§ˆï¼ˆå‰3æ¡ï¼‰

**åœ°ç‚¹ Tab:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿·é›¾æ£®æ—            â”‚
â”‚ ç”Ÿæ€: forest         â”‚
â”‚ åæ ‡: (10, 20)       â”‚
â”‚ POI: 3ä¸ª             â”‚
â”‚ NPC: 2ä¸ªè§’è‰²         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**NPC Tab:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¥ç§˜å•†äºº            â”‚
â”‚ è§’è‰²: merchant       â”‚
â”‚ ä½ç½®: å¹¿åœº           â”‚
â”‚ æ¬²æœ›: æ”¶é›†ç¨€æœ‰ç‰©å“   â”‚
â”‚ ç§˜å¯†: å‰ç›—è´¼å¤´ç›®     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»»åŠ¡ Tab:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã€ä¸»çº¿ã€‘å¯»æ‰¾é—ç‰©    â”‚
â”‚                      â”‚
â”‚ ç›®æ ‡:                â”‚
â”‚ â˜‘ æ¢ç´¢å¤è€ç¥æ®¿       â”‚
â”‚ â—‹ è§£å¼€è°œé¢˜           â”‚
â”‚ â—‹ å‡»è´¥å®ˆæŠ¤è€…         â”‚
â”‚                      â”‚
â”‚ å¥–åŠ±: 100 exp, 50é‡‘å¸â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Lore Tab:**
- å®Œæ•´çš„ä¸–ç•Œè®¾å®šæ¡ç›®
- ç™¾ç§‘å¼å±•ç¤º
- æ”¯æŒæœç´¢å’Œè¿‡æ»¤

#### 3. ä¸–ç•Œç®¡ç†åŠŸèƒ½

**æ ¡éªŒåŠŸèƒ½:**
```typescript
POST /api/worlds/{world_id}/validate

// è¿”å›
{
  "ok": false,
  "summary": {
    "total": 3,
    "errors": 1,
    "warnings": 2
  },
  "problems": [
    {
      "severity": "error",
      "message": "NPC merchant_01 å¼•ç”¨ä¸å­˜åœ¨çš„åœ°ç‚¹ unknown_loc"
    },
    {
      "severity": "warning",
      "message": "Quest quest_02 å­˜åœ¨å¾ªç¯ä¾èµ–"
    }
  ]
}
```

**å¿«ç…§ç³»ç»Ÿ:**
```bash
POST /api/worlds/{world_id}/snapshot
{
  "tag": "v1.0-å®Œæˆåˆç‰ˆ"
}

# å­˜å‚¨åœ¨ world_snapshots è¡¨
# æ”¯æŒç‰ˆæœ¬å›æ»š
```

**å‘å¸ƒåŠŸèƒ½:**
```bash
POST /api/worlds/{world_id}/publish

# å°† status æ›´æ–°ä¸º "published"
# ä½œä¸ºé»˜è®¤ä¸–ç•Œä½¿ç”¨
```

### æ•°æ®æ¨¡å‹

**WorldPack ç»“æ„:**
```python
class WorldPack(BaseModel):
    meta: WorldMeta           # å…ƒæ•°æ®ï¼ˆIDã€æ ‡é¢˜ã€ç§å­ç­‰ï¼‰
    locations: List[Location] # åœ°ç‚¹åˆ—è¡¨
    npcs: List[NPC]           # NPCåˆ—è¡¨
    quests: List[Quest]       # ä»»åŠ¡åˆ—è¡¨
    loot_tables: List[LootTable]      # æ‰è½è¡¨
    encounter_tables: List[EncounterTable]  # é­é‡è¡¨
    lore: Dict[str, str]      # Loreç™¾ç§‘
    index_version: int        # ç´¢å¼•ç‰ˆæœ¬

    def validate_references(self) -> List[str]:
        """æ ¡éªŒå¼•ç”¨å®Œæ•´æ€§"""

    def validate_quest_dag(self) -> List[str]:
        """æ ¡éªŒä»»åŠ¡DAGæ— ç¯"""
```

**æ ¸å¿ƒæ¨¡å‹:**
- `Location`: åœ°ç‚¹ï¼ˆåæ ‡ã€ç”Ÿæ€ã€POIåˆ—è¡¨ï¼‰
- `NPC`: è§’è‰²ï¼ˆæ€§æ ¼ã€æ¬²æœ›ã€ç§˜å¯†ã€æ‰€åœ¨åœ°ï¼‰
- `Quest`: ä»»åŠ¡ï¼ˆç›®æ ‡DAGã€å‰ç½®æ¡ä»¶ã€å¥–åŠ±ï¼‰
- `LootTable`: æ‰è½è¡¨ï¼ˆç‰©å“IDã€æƒé‡ã€æ•°é‡èŒƒå›´ï¼‰
- `EncounterTable`: é­é‡è¡¨ï¼ˆæ•ŒäººIDã€æƒé‡ã€æ•°é‡èŒƒå›´ï¼‰

### å­˜å‚¨ä¸ç´¢å¼•

**æ•°æ®åº“è¡¨:**
```sql
-- ä¸–ç•Œä¸»è¡¨
CREATE TABLE worlds (
    id TEXT PRIMARY KEY,
    title TEXT NOT NULL,
    seed INTEGER NOT NULL,
    json_gz BLOB NOT NULL,  -- gzipå‹ç¼©çš„WorldPack JSON (5:1å‹ç¼©æ¯”)
    index_version INTEGER DEFAULT 1,
    status TEXT NOT NULL DEFAULT 'draft',  -- draft/published
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- å‘é‡ç´¢å¼•è¡¨
CREATE TABLE world_kb (
    id INTEGER PRIMARY KEY,
    world_id TEXT,
    kind TEXT,         -- "npc" | "lore"
    ref_id TEXT,       -- NPC ID æˆ– Lore Key
    text TEXT,         -- åŸå§‹æ–‡æœ¬
    embedding BLOB,    -- pickleåºåˆ—åŒ–çš„å‘é‡
    created_at TIMESTAMP
);
```

**å‘é‡ç´¢å¼•:**
```python
# è½»é‡çº§å®ç°ï¼ˆMD5 hashå‘é‡ï¼Œå¯æ‰©å±•ä¸ºOpenAI Embeddingsï¼‰
class WorldIndexer:
    async def build_index(self, world_pack: WorldPack):
        # ç´¢å¼•NPCï¼ˆæ€§æ ¼ã€æ¬²æœ›ã€ç§˜å¯†ï¼‰
        # ç´¢å¼•Loreï¼ˆæ‰€æœ‰æ¡ç›®ï¼‰

    def search(self, world_id: str, query: str, top_k: int = 5):
        # è¯­ä¹‰æœç´¢
        # è¿”å›ç›¸å…³NPCå’ŒLore
```

### APIç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/worlds/generate` | POST | è§¦å‘ä¸–ç•Œç”Ÿæˆ |
| `/api/worlds/{id}/status` | GET | æŸ¥è¯¢ç”ŸæˆçŠ¶æ€ |
| `/api/worlds/{id}` | GET | è·å–ä¸–ç•Œè¯¦æƒ… |
| `/api/worlds/{id}/validate` | POST | æ ¡éªŒä¸–ç•Œ |
| `/api/worlds/{id}/snapshot` | POST | åˆ›å»ºå¿«ç…§ |
| `/api/worlds/{id}/publish` | POST | å‘å¸ƒä¸–ç•Œ |
| `/api/worlds/` | GET | è·å–ä¸–ç•Œåˆ—è¡¨ |
| `/api/worlds/{id}/search` | GET | è¯­ä¹‰æœç´¢ |

### ä½¿ç”¨ç¤ºä¾‹

**1. ç”Ÿæˆæ–°ä¸–ç•Œ:**
```bash
# è§¦å‘ç”Ÿæˆ
POST /api/worlds/generate
{
  "title": "æš—å½±ä¹‹æ£®",
  "tone": "dark",
  "difficulty": "hard",
  "num_locations": 15,
  "num_npcs": 20,
  "num_quests": 10
}

# è¿”å›
{
  "job_id": "job_abc123",
  "world_id": "world_xyz789",
  "status": "QUEUED"
}

# è½®è¯¢çŠ¶æ€ï¼ˆæ¯2ç§’ï¼‰
GET /api/worlds/world_xyz789/status

# å®Œæˆåè‡ªåŠ¨è·³è½¬åˆ°è¯¦æƒ…é¡µ
```

**2. æ ¡éªŒä¸–ç•Œ:**
```bash
POST /api/worlds/world_xyz789/validate

# æ£€æŸ¥:
# - å¼•ç”¨å®Œæ•´æ€§ï¼ˆNPCâ†’Location, Questâ†’Objectiveï¼‰
# - DAGæ— ç¯ï¼ˆQuestä¾èµ–ã€Objectiveä¾èµ–ï¼‰
# - ä¸šåŠ¡è§„åˆ™ï¼ˆä»»åŠ¡ç›®æ ‡æ•°é‡ã€NPCæ•°é‡åˆç†æ€§ï¼‰
# - æ•°æ®è´¨é‡ï¼ˆå¿…å¡«å­—æ®µã€IDå”¯ä¸€æ€§ï¼‰
```

**3. è¯­ä¹‰æœç´¢:**
```bash
GET /api/worlds/world_xyz789/search?query=æ£®æ—ä¸­çš„ç§˜å¯†&kind=lore&top_k=5

# è¿”å›ä¸"æ£®æ—ä¸­çš„ç§˜å¯†"æœ€ç›¸å…³çš„5æ¡Lore
```

### æ€§èƒ½æŒ‡æ ‡

**ç”Ÿæˆæ—¶é—´ä¼°ç®—:**
- å°å‹ä¸–ç•Œ (5åœ°ç‚¹, 8NPC, 6ä»»åŠ¡): ~40ç§’
- ä¸­å‹ä¸–ç•Œ (15åœ°ç‚¹, 20NPC, 12ä»»åŠ¡): ~70ç§’
- å¤§å‹ä¸–ç•Œ (30åœ°ç‚¹, 30NPC, 20ä»»åŠ¡): ~120ç§’

**å­˜å‚¨ç©ºé—´:**
- æœªå‹ç¼© WorldPack JSON: ~100KB
- gzip å‹ç¼©å: ~20KB (5:1å‹ç¼©æ¯”)

**å‘é‡ç´¢å¼•:**
- MD5 hashå‘é‡: 32å­—èŠ‚/æ¡ç›®
- å¯æ‰©å±•ä¸º OpenAI Embeddings (1536ç»´)

---

## æ›´æ–°æ—¥å¿—

### v1.1 (2025-11-06) â­ æœ€æ–°
- âœ… **WorldPack é¢„ç”Ÿæˆä¸–ç•Œç³»ç»Ÿä¸Šçº¿**
  - å®Œæ•´çš„8é˜¶æ®µç”Ÿæˆæµæ°´çº¿
  - å®æ—¶è¿›åº¦ç›‘æ§ï¼ˆè½®è¯¢çŠ¶æ€ï¼‰
  - ä¸–ç•Œè¯¦æƒ…é¡µé¢ï¼ˆ5ä¸ªTabï¼‰
  - ä¸–ç•Œæ ¡éªŒç³»ç»Ÿï¼ˆå¼•ç”¨å®Œæ•´æ€§ã€DAGæ£€æµ‹ï¼‰
  - è½»é‡çº§å‘é‡ç´¢å¼•ï¼ˆè¯­ä¹‰æœç´¢ï¼‰
  - å¿«ç…§ä¸ç‰ˆæœ¬ç®¡ç†
- âœ… 9ä¸ªæ–°å‰ç«¯ç»„ä»¶ï¼ˆåˆ—è¡¨ã€å¯¹è¯æ¡†ã€è¯¦æƒ…é¡µç­‰ï¼‰
- âœ… 10ä¸ªæ–°APIç«¯ç‚¹
- âœ… å‰ç«¯æ„å»ºæˆåŠŸï¼ˆTypeScriptç±»å‹ä¿®å¤ï¼‰

### v1.0 (2025-11-05)
- âœ… å®Œæˆ LangChain 1.0 è¿ç§»
- âœ… å®ç°æµå¼è¾“å‡º
- âœ… å®Œæ•´çš„å­˜æ¡£ç³»ç»Ÿï¼ˆ10æ§½ä½ + è‡ªåŠ¨ä¿å­˜ï¼‰
- âœ… å†å²å¯¹è¯æ¢å¤
- âœ… DM Agent è¯¦ç»†æ—¥å¿—
- âœ… 15ä¸ªæ¸¸æˆå·¥å…·

### v0.9 (2025-11-04)
- âš ï¸ å®Œæˆä» Claude Agent SDK è¿ç§»åˆ° LangChain
- âš ï¸ ç§»é™¤ LiteLLM Proxy ä¾èµ–

---

**æ–‡æ¡£ç»´æŠ¤è€…**: Claude Code
**æœ€åæ›´æ–°**: 2025-11-06
**ç‰ˆæœ¬**: 1.1
