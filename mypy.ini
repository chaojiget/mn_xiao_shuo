# MyPy 类型检查配置

[mypy]
# Python 版本
python_version = 3.10

# 基本设置
warn_return_any = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True

# 严格性设置（逐步启用）
# disallow_untyped_defs = True  # 暂时禁用，逐步添加类型注解
# disallow_any_generics = True
check_untyped_defs = True
no_implicit_optional = True
strict_equality = True

# 导入设置
ignore_missing_imports = True
follow_imports = normal

# 输出设置
show_error_codes = True
show_column_numbers = True
pretty = True
color_output = True

# 缓存
cache_dir = .mypy_cache
incremental = True

# 排除目录
exclude = (?x)(
    ^\.venv/
    | ^venv/
    | ^\.mypy_cache/
    | ^build/
    | ^dist/
    | ^\.git/
    | ^web/frontend/
  )

# 针对特定模块的设置

[mypy-tests.*]
# 测试代码可以宽松一些
disallow_untyped_defs = False

[mypy-scripts.*]
# 脚本代码可以宽松一些
disallow_untyped_defs = False

# 第三方库（如果没有类型存根）
[mypy-anthropic.*]
ignore_missing_imports = True

[mypy-langchain.*]
ignore_missing_imports = True

[mypy-langgraph.*]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-sqlite3.*]
ignore_missing_imports = True

[mypy-yaml.*]
ignore_missing_imports = True

[mypy-dotenv.*]
ignore_missing_imports = True
